
/home/dobot/Desktop/extracted_files/humanoidverse/config/obs/motion_tracking/deepmimic_a2c_nolinvel_LARGEnoise_history_atom.yaml

export LD_LIBRARY_PATH=/home/dobot/miniforge3/envs/hvgym/lib:$LD_LIBRARY_PATH

export PYTHONPATH=/home/dobot/extracted_files/:$PYTHONPATH

python robot_motion_process/inter_atom.py \
  --origin_file_name /home/dobot/Desktop/extracted_files/example/motion_data_contact_mask/Gestures_3_poses_first2s_cont_mask.pkl \
  --start_inter_frame 30 \
  --end_inter_frame 30


cd /home/dobot/Desktop/extracted_files && python quick_velocity_stats.py example/motion_data_contact_mask/test_cont_mask_first5s.pkl

HYDRA_FULL_ERROR=1 python humanoidverse/train_agent.py \
+simulator=isaacgym +exp=motion_tracking +terrain=terrain_locomotion_plane \
project_name=MotionTracking num_envs=4096 \
+obs=motion_tracking/deepmimic_a2c_nolinvel_LARGEnoise_history_atom \
+robot=atom/atom \
+domain_rand=main_atom \
+rewards=motion_tracking/main_atom \
robot.motion.motion_lib_type=WJX \
experiment_name=benchmark \
robot.motion.motion_file="/home/dobot/Desktop/extracted_files/example/motion_data/walk3.pkl" \
env.config.termination_curriculum.terminate_when_motion_far_threshold_min=0.5 \
algo=mh_ppo \
seed=1



HYDRA_FULL_ERROR=1 python humanoidverse/train_agent.py \
+simulator=isaacgym \
+exp=motion_tracking \
+domain_rand=NO_domain_rand \
+rewards=motion_tracking/delta_action_rewards \
+robot=atom/atom \
+terrain=terrain_locomotion_plane \
+obs=motion_tracking/atom_delta_action_obs \
++headless=True \
++rewards.reward_scales.termination=-100 \
num_envs=4096 \
project_name=MotionTracking \
experiment_name=MotionTracking_CR7 \
robot.motion.motion_file="/home/dobot/Desktop/extracted_files/asap_mujoco_sim/processed_pkl_files/1015_111607_atom_motion_raw_processed_min75.pkl" \
robot.motion.motion_lib_type=origin \
rewards.reward_penalty_curriculum=False \
rewards.reward_penalty_degree=0.00001 \
algo._target_=humanoidverse.agents.delta_a.train_delta_a_ankle_atom.PPODeltaAAnkleOnly \
algo.config.num_steps_per_env=50 \
algo=ppo_delta_ankle \
env.config.resample_motion_when_training=True \
env.config.termination.terminate_when_motion_far=True \
env.config.termination_curriculum.terminate_when_motion_far_curriculum=True \
env.config.termination_curriculum.terminate_when_motion_far_threshold_min=0.3 \
env.config.termination_curriculum.terminate_when_motion_far_curriculum_degree=0.000025 \
env.config.termination.terminate_by_gravity=True \
robot.asset.self_collisions=0




加contack：
cd /home/dobot/Desktop/extracted_files && python motion_source/count_contack_mask_atom.py /home/dobot/Desktop/extracted_files/example/motion_data
分隔pkl前多少s：
python /home/dobot/Desktop/extracted_files/robot_motion_process/trim_pkl.py /home/dobot/Desktop/extracted_files/example/motion_data_contact_mask/test_cont_mask.pkl 9
读取第一帧：
python /home/dobot/Desktop/extracted_files/robot_motion_process/read_first_frame.py /home/dobot/Desktop/extracted_files/example/motion_data/Gestures_3_poses_first2s.pkl

# custom_rl_env.py 第108行
contact_forces = ContactSensorCfg(
    prim_path="{ENV_REGEX_NS}/Robot/.*",
    history_length=3,  # ← 接触力历史：3步
    track_air_time=True
)

# custom_rl_env.py 第157行
actions = ObsTerm(func=mdp.last_action)  # ← 上一步动作：1步


/home/dobot/extracted_files/humanoidverse

+device=cuda:0

export PYTHONPATH=/home/harry/Desktop/asap-pbhc:$PYTHONPATH
/home/dobot/桌面/extracted_files
export PYTHONPATH=/home/dobot/extracted_files/:$PYTHONPATH

pretrain
/home/dobot/extracted_files/asap_mujoco_sim

HYDRA_FULL_ERROR=1 python humanoidverse/train_agent.py \
+simulator=isaacgym +exp=motion_tracking +terrain=terrain_locomotion_plane \
project_name=MotionTracking num_envs=4096 \
+obs=motion_tracking/main \
+robot=g1/g1_23dof_lock_wrist  \
+domain_rand=main \
+rewards=motion_tracking/main \
experiment_name=pbhc_pretrain \
robot.motion.motion_file="example/motion_data/Roundhouse_kick.pkl" \
seed=1 \
+device=cuda:0



cd asap_mujoco_sim

python mujoco_track_with_processing.py


python read_sigma.py --log_dir /home/harry/Desktop/asap-pbhc/logs/MotionTracking/round_sick \
  --yaml humanoidverse/config/rewards/motion_tracking/final_training.yaml \
  --multiplier 2 --no-backup



HYDRA_FULL_ERROR=1 python humanoidverse/train_agent.py \
+simulator=isaacgym +exp=motion_tracking +terrain=terrain_locomotion_plane \
project_name=MotionTracking num_envs=4096 \
+checkpoint="/home/harry/Desktop/PBHC/logs/MotionTracking/20250718_161135-debug-motion_tracking-g1_23dof_lock_wrist/model_20000.pt" \
+obs=motion_tracking/main \
+robot=g1/g1_23dof_lock_wrist \
+domain_rand=main \
algo.config.save_interval=200 \
+rewards=motion_tracking/final_training \
experiment_name=debug \
robot.motion.motion_file="/home/harry/Desktop/PBHC/example/motion_data/Horse-stance_pose.pkl" \
seed=1 \
+device=cuda:0




HYDRA_FULL_ERROR=1 python /home/harry/Desktop/PBHC_old/motion_source/count_pkl_contact_mask.py input_folder=/home/harry/Desktop/PBHC_old/data_csv



pip uninstall isaac_utils -y && cd /home/dobot/extracted_files/humanoidverse/isaac_utils && pip install -e .



tensorboard --logdir /home/harry/Desktop/PBHC/logs/MotionTracking/20250718_161135-debug-motion_tracking-g1_23dof_lock_wrist
/home/harry/Desktop/PBHC/humanoidverse/config/robot/g1/g1_29dof_anneal_23dof.yaml

/home/harry/Desktop/ASAP1/logs/MotionTracking/20250715_173942-MotionTracking_CR7-motion_tracking-g1_29dof_anneal_23dof/model_20000.pt

HYDRA_FULL_ERROR=1 python humanoidverse/eval_agent.py +device=cuda:0  +headness=True +env.config.enforce_randomize_motion_start_eval=False +checkpoint="/home/dobot/Desktop/extracted_files/logs/MotionTracking/20251015_173914-benchmark-motion_tracking-atom/model_18000.pt"


delta_model
侧踢：
/home/harry/Desktop/ASAP1/logs/MotionTracking/20250715_173942-MotionTracking_CR7-motion_tracking-g1_29dof_anneal_23dof/model_20000.pt
侧踢只有脚踝：
/home/harry/Desktop/ASAP1/logs/MotionTracking/20250717_170418-MotionTracking_CR7-motion_tracking-g1_29dof_anneal_23dof/model_22000.pt



侧踢腿：
/home/harry/Desktop/PBHC1/logs/MotionTracking/20250630_181116-debug-motion_tracking-g1_23dof_lock_wrist/model_46000.pt
旋转踢：
/home/harry/Desktop/PBHC/logs/MotionTracking/20250718_161135-debug-motion_tracking-g1_23dof_lock_wrist/model_30000.pt
马步：
/home/harry/Desktop/PBHC/logs/MotionTracking/20250718_214758-debug-motion_tracking-g1_23dof_lock_wrist/model_175000.pt
李小龙：
/home/harry/Desktop/PBHC/logs/MotionTracking/20250722_124526-MotionTracking_CR7-motion_tracking-g1_23dof_lock_wrist/model_50300.pt

/home/harry/Desktop/asap/logs/MotionTracking/20250805_152440-MotionTracking_CR7-motion_tracking-g1_23dof_lock_wrist/model_1700.pt


HYDRA_FULL_ERROR=1 python humanoidverse/train_agent.py \
+simulator=isaacgym \
+exp=motion_tracking \
+domain_rand=main \
+rewards=motion_tracking/final_training  \
+robot=g1/g1_23dof_lock_wrist \
+terrain=terrain_locomotion_plane \
+obs=motion_tracking/final_training \
+algo.config.policy_checkpoint="/home/harry/Desktop/asap-pbhc/logs/MotionTracking/20250901_204337-MotionTracking_CR7-motion_tracking-g1_23dof_lock_wrist/model_36000.pt" \
+checkpoint="/home/harry/Desktop/asap-pbhc/logs/MotionTracking/round_sick/model_30000.pt" \
num_envs=4096 \
project_name=MotionTracking \
experiment_name=final_training \
robot.motion.motion_file=example/motion_data/Roundhouse_kick.pkl \
rewards.reward_penalty_curriculum=True \
rewards.reward_penalty_degree=0.00001 \
algo=mh_ppo \
algo._target_=humanoidverse.agents.delta_a.train_agent_d_ankle.PPODeltaDAnkle \
algo.config.save_interval=100 \
env.config.resample_motion_when_training=False \
env.config.termination.terminate_when_motion_far=True \
env.config.termination_curriculum.terminate_when_motion_far_curriculum=True \
env.config.termination_curriculum.terminate_when_motion_far_threshold_min=0.3 \
env.config.termination_curriculum.terminate_when_motion_far_curriculum_degree=0.000025 \
env.config.termination.terminate_by_gravity=True \
robot.asset.self_collisions=0


/home/harry/Desktop/ASAP1/logs/MotionTracking/20250717_170418-MotionTracking_CR7-motion_tracking-g1_29dof_anneal_23dof/model_22000.pt
/home/harry/Desktop/ASAP1/logs/MotionTracking/20250718_123838-MotionTracking_CR7-motion_tracking-g1_29dof_anneal_23dof/model_2000.pt
#humanoidverse.agents.delta_a.train_agent_d.PPODeltaD
#humanoidverse.agents.delta_a.train_agent_d_ankle.PPODeltaDAnkle

tensorboard --logdir=/home/harry/Desktop/PBHC/logs/MotionTracking/20250721_152237-debug-motion_tracking-g1_23dof_lock_wrist

HYDRA_FULL_ERROR=1 python humanoidverse/train_agent.py \
+simulator=isaacgym \
+exp=motion_tracking \
+domain_rand=NO_domain_rand \
+rewards=motion_tracking/delta_action_rewards  \
+robot=g1/g1_23dof_lock_wrist  \
+terrain=terrain_locomotion_plane \
+obs=motion_tracking/delta_action_obs \
++rewards.reward_scales.termination=-100 \
num_envs=2048 \
project_name=MotionTracking \
experiment_name=MotionTracking_CR7 \
robot.motion.motion_file="/home/harry/Desktop/asap-pbhc/asap_mujoco_sim/processed_pkl_files/0901_161752_mujoco_motion_raw_processed_min75.pkl" \
robot.motion.motion_lib_type=origin \
rewards.reward_penalty_curriculum=False \
rewards.reward_penalty_degree=0.00001 \
algo._target_=humanoidverse.agents.delta_a.train_delta_a_ankle_only.PPODeltaAAnkleOnly \
algo.config.num_steps_per_env=50 \
algo=ppo_delta_ankle \
env.config.resample_motion_when_training=True \
env.config.termination.terminate_when_motion_far=True \
env.config.termination_curriculum.terminate_when_motion_far_curriculum=True \
env.config.termination_curriculum.terminate_when_motion_far_threshold_min=0.3 \
env.config.termination_curriculum.terminate_when_motion_far_curriculum_degree=0.000025 \
env.config.termination.terminate_by_gravity=True \
robot.asset.self_collisions=0



HYDRA_FULL_ERROR=1 python humanoidverse/train_agent.py \
+simulator=isaacgym \
+exp=motion_tracking \
+domain_rand=NO_domain_rand \
+rewards=motion_tracking/delta_action_rewards  \
+robot=g1/g1_23dof_lock_wrist  \
+terrain=terrain_locomotion_plane \
+obs=motion_tracking/delta_action_obs \
++rewards.reward_scales.termination=-100 \
algo=mh_ppo \
robot.motion.motion_file="/home/harry/Desktop/asap-pbhc/asap_mujoco_sim/processed_pkl_files/0901_161752_mujoco_motion_raw_processed_min75.pkl" \
num_envs=2048 \
project_name=MotionTracking \
experiment_name=delta_action_training \
robot.motion.motion_lib_type=origin \
rewards.reward_penalty_curriculum=False \
rewards.reward_penalty_degree=0.00001 \
algo.config.num_steps_per_env=50 \
env.config.resample_motion_when_training=True \
env.config.termination.terminate_when_motion_far=True \
env.config.termination_curriculum.terminate_when_motion_far_curriculum=True \
env.config.termination_curriculum.terminate_when_motion_far_threshold_min=0.3 \
env.config.termination_curriculum.terminate_when_motion_far_curriculum_degree=0.000025 \
env.config.termination.terminate_by_gravity=True \
robot.asset.self_collisions=0