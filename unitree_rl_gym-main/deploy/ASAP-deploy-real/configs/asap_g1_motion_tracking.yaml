# ASAP G1 Motion Tracking Real Robot Configuration
# 用于ASAP训练的G1机器人运动追踪模型真实部署配置

# 控制参数
control_dt: 0.02  # 50Hz控制频率

# 通信配置
msg_type: "hg"        # G1使用hg消息类型
imu_type: "pelvis"    # G1的IMU在骨盆上

lowcmd_topic: "rt/lowcmd"
lowstate_topic: "rt/lowstate"

# 模型路径 - 您的训练好的JIT模型
policy_path: "/home/note17/unitree_rl_gym-main/deploy/ASAP-deploy-real/policy_22600.pt"

# G1 23DOF关节到电机的映射
# 顺序: 左腿(6) + 右腿(6) + 腰部(3) + 左臂(4) + 右臂(4)
leg_joint2motor_idx: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11]  # 12个腿部关节
arm_waist_joint2motor_idx: [12, 13, 14,                        # 3个腰部关节
                            15, 16, 17, 18,                     # 4个左臂关节
                            19, 20, 21, 22]                     # 4个右臂关节

# 腿部PD控制参数 (12DOF)
kps: [100, 100, 100, 200, 20, 20,      # 左腿
      100, 100, 100, 200, 20, 20]      # 右腿

kds: [2.5, 2.5, 2.5, 5.0, 0.2, 0.1,   # 左腿
      2.5, 2.5, 2.5, 5.0, 0.2, 0.1]   # 右腿

# 腿部默认角度 (12DOF)
default_angles: [-0.1, 0.0, 0.0, 0.3, -0.2, 0.0,    # 左腿
                 -0.1, 0.0, 0.0, 0.3, -0.2, 0.0]     # 右腿



# 手臂和腰部PD控制参数 (11DOF)
arm_waist_kps: [400, 400, 400,          # 腰部 (高刚度)
                90, 60, 20, 60,         # 左臂 (柔性)
                90, 60, 20, 60]         # 右臂 (柔性)

arm_waist_kds: [5.0, 5.0, 5.0,          # 腰部
                2.0, 1.0, 0.4, 1.0,     # 左臂
                2.0, 1.0, 0.4, 1.0]     # 右臂

# 手臂和腰部目标位置 (11DOF)
arm_waist_target: [0.0, 0.0, 0.0,       # 腰部中立位置
                   0.0, 0.0, 0.0, 0.0,  # 左臂中立位置
                   0.0, 0.0, 0.0, 0.0]  # 右臂中立位置

# 观测缩放参数
ang_vel_scale: 0.25
dof_pos_scale: 1.0
dof_vel_scale: 0.05
action_scale: 0.25
cmd_scale: [2.0, 2.0, 0.25]

# ASAP特定参数
frame_stack: 4                # 历史帧数
num_single_obs: 76           # 单帧观测维度
num_actions: 23              # 动作维度 (23DOF全身控制)
num_obs: 380                 # 总观测维度
cycle_time: 5.833            # 运动周期时间(秒)

# 观测缩放参数
obs_scale_base_ang_vel: 0.25
obs_scale_dof_pos: 1.0
obs_scale_dof_vel: 0.05
obs_scale_gvec: 1.0
obs_scale_refmotion: 1.0
obs_scale_hist: 1.0

# 观测和动作限制
clip_observations: 100
clip_actions: 100
use_noise: false             # 真实部署时关闭噪声

# 遥控器命令限制
max_cmd: [0.8, 0.5, 1.57]

# 运动命令初始值 [前进速度, 侧向速度, 转向速度]
cmd_init: [0.0, 0.0, 0.0] 